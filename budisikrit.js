eval(atob('ZnVuY3Rpb24gWFhTKFNYUlQpIHsKICAgIAogICAgY29uc3QgQ0xJRU5UX1NFQ1VSSVRZID0gIjI2ODkzNjdiMjA1YzE2Y2UzMmVkNDIwMDk0MmI4YjhiMWUyNjJkZmM3MGQ5YmM5ZmJjNzdjNDk2OTlhNGYxZGYiOwoKICAgIGlmIChTWFJUICE9PSBDTElFTlRfU0VDVVJJVFkpIHsKICAgICAgICBjb25zb2xlLndhcm4oIk9wZXJhdGlvbiBhYm9ydGVkLiIpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICAgIAogICAgY29uc29sZS5sb2coJ1JlYWNoaW5nIHNlcnZlci4uLicpCgogICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgT2JqZWN0LmtleXMoU1lTVEVNX0NPTkZJRy5TRUNVUklUWS5QT0lOVFMpLmZvckVhY2goa2V5ID0+IHsKICAgICAgICAgICAgaWYgKGtleSAhPT0gJ1RFU19TVEFSVEVEJykgewogICAgICAgICAgICAgICAgU1lTVEVNX0NPTkZJRy5TRUNVUklUWS5QT0lOVFNba2V5XSA9IDAuMTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwoKICAgICAgICBsZXQgcmF3ID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShTWVNURU1fQ09ORklHLlNFQ1VSSVRZLlNUT1JBR0VfS0VZKTsKICAgICAgICBpZiAoIXJhdykgcmV0dXJuOwoKICAgICAgICBsZXQgZGF0YTsKICAgICAgICB0cnkgewogICAgICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShyYXcpOwogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgY29uc29sZS53YXJuKCJJbnZhbGlkIEpTT04uIik7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIGlmICghZGF0YS52aW9sYXRpb25zIHx8ICFBcnJheS5pc0FycmF5KGRhdGEudmlvbGF0aW9ucykpIHsKICAgICAgICAgICAgY29uc29sZS53YXJuKCJJbnZhbGlkIHN0cnVjdHVyZSB2aW9sYXRpb24iKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgaWYgKCFkYXRhLnZpb2xhdGlvbkhpc3RvcnkgfHwgIUFycmF5LmlzQXJyYXkoZGF0YS52aW9sYXRpb25IaXN0b3J5KSkgewogICAgICAgICAgICBjb25zb2xlLndhcm4oIkludmFsaWQgdmlvbGF0aW9uSGlzdG9yeS4iKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgY29uc3QgdGVzU3RhcnRlZExpc3QgPSBkYXRhLnZpb2xhdGlvbnMuZmlsdGVyKHYgPT4gdi50eXBlID09PSAnVEVTX1NUQVJURUQnKTsKCiAgICAgICAgbGV0IG9sZGVzdFRlc1N0YXJ0ZWQgPSBudWxsOwogICAgICAgIGlmICh0ZXNTdGFydGVkTGlzdC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIG9sZGVzdFRlc1N0YXJ0ZWQgPSB0ZXNTdGFydGVkTGlzdC5yZWR1Y2UoKGEsIGIpID0+CiAgICAgICAgICAgICAgICBuZXcgRGF0ZShhLmRldGFpbHM/LnRpbWVzdGFtcCB8fCAwKSA8IG5ldyBEYXRlKGIuZGV0YWlscz8udGltZXN0YW1wIHx8IDApCiAgICAgICAgICAgICAgICA/IGEgOiBiCiAgICAgICAgICAgICk7CiAgICAgICAgfQoKICAgICAgICBkYXRhLnZpb2xhdGlvbnMgPSBkYXRhLnZpb2xhdGlvbnMuZmlsdGVyKHYgPT4gewogICAgICAgICAgICBpZiAodi50eXBlID09PSAnVEVTX1NUQVJURUQnKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gb2xkZXN0VGVzU3RhcnRlZCAmJiB2LmlkID09PSBvbGRlc3RUZXNTdGFydGVkLmlkOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB2LnBvaW50cyA8PSAwOwogICAgICAgIH0pOwoKICAgICAgICBkYXRhLnZpb2xhdGlvbkhpc3RvcnkgPSBkYXRhLnZpb2xhdGlvbkhpc3RvcnkuZmlsdGVyKHYgPT4gewogICAgICAgICAgICBpZiAodi50eXBlID09PSAnVEVTX1NUQVJURUQnKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gb2xkZXN0VGVzU3RhcnRlZCAmJgogICAgICAgICAgICAgICAgICAgICAgIHYudGltZXN0YW1wID09PSBvbGRlc3RUZXNTdGFydGVkLmRldGFpbHM/LnRpbWVzdGFtcDsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gdi5wb2ludHMgPD0gMDsKICAgICAgICB9KTsKCiAgICAgICAgZGF0YS50b3RhbFBvaW50cyA9IDA7CgogICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oCiAgICAgICAgICAgIFNZU1RFTV9DT05GSUcuU0VDVVJJVFkuU1RPUkFHRV9LRVksCiAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KGRhdGEpCiAgICAgICAgKTsKCiAgICAgICAgdXBkYXRlVmlvbGF0aW9uc0Rpc3BsYXkoKTsKICAgICAgICBjb25zb2xlLmxvZygnRXhlY3V0ZWQnKQoKICAgIH0sIDE1MDApOwoKfQoKWFhTKCcyNjg5MzY3YjIwNWMxNmNlMzJlZDQyMDA5NDJiOGI4YjFlMjYyZGZjNzBkOWJjOWZiYzc3YzQ5Njk5YTRmMWRmJykg'))
